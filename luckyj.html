<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Космический Сайт</title>

    <base href="https://xlaswad.github.io/telegram-webapp222">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
        }

        body {
            background: url('/telegram-webapp222/pic/space-background.png') repeat;
            background-size: cover;
            animation: moveBackground 60s linear infinite;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        @keyframes moveBackground {
            0% { background-position: 0 0; }
            100% { background-position: -1000px 0; }
        }

        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            text-decoration: none;
            transition: transform 0.2s ease;
        }

        .back-button:hover {
            transform: scale(1.1);
        }

        .back-button svg {
            width: 60px;
            height: 60px;
        }

        .circle-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .circle {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            background-color: #0f0f0f;
            border: 8px solid #9b4dff;
            box-shadow: 0 0 20px #9b4dff80;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .multiplier {
            font-size: 36px;
            font-weight: bold;
            color: #9f5fff;
            font-style: italic;
            position: relative;
            z-index: 2;
        }

        .generate-btn {
            padding: 12px 30px;
            background: transparent;
            border: 2px solid white;
            color: white;
            font-size: 18px;
            font-weight: bold;
            border-radius: 40px;
            cursor: pointer;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .generate-btn:hover:enabled {
            background: white;
            color: black;
        }

        .generate-btn:disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .logo-centered {
            font-size: 36px;
            font-weight: bold;
            font-family: 'Arial', sans-serif;
            color: #9b4dff;
            text-shadow: 0 0 10px rgba(155, 77, 255, 0.6);
            text-align: center;
            margin-bottom: -10px;
        }

        .logo-centered span {
            color: white;
        }

        .dot-loader {
            display: flex;
            gap: 8px;
            position: absolute;
        }

        .dot-loader span {
            width: 12px;
            height: 12px;
            background-color: #9f5fff;
            border-radius: 50%;
            animation: bounce 1.2s infinite ease-in-out;
        }

        .dot-loader span:nth-child(1) { animation-delay: 0s; }
        .dot-loader span:nth-child(2) { animation-delay: 0.2s; }
        .dot-loader span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0.7); opacity: 0.3; }
            40% { transform: scale(1.2); opacity: 1; }
        }
    </style>
</head>
<body>

    <a href="/telegram-webapp222/index.html" class="back-button" title="Назад">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="12" fill="#3A4750"/>
            <path d="M13.5 16.5L9 12L13.5 7.5"
                  stroke="white"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"/>
        </svg>
    </a>

    <div class="circle-container">

        <img src="/telegram-webapp222/raketa.png" alt="Ракета" style="display: block; margin: 0 auto 10px; max-width: 150px;">
        <div class="logo-centered">LUCKY<span>JET</span></div>

        <div class="circle" id="circle">
            <div class="multiplier" id="multiplier">1.00X</div>
        </div>

        <button class="generate-btn" id="generateBtn" onclick="generateMultiplier()">GET SIGNAL</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        let isGenerating = false;
        let countdownInterval;

        function showLoading() {
            const circle = document.getElementById('circle');
            const multiplier = document.getElementById('multiplier');
            multiplier.style.display = 'none';

            const loader = document.createElement('div');
            loader.className = 'dot-loader';
            loader.id = 'loader';

            for (let i = 0; i < 3; i++) {
                const dot = document.createElement('span');
                loader.appendChild(dot);
            }

            circle.appendChild(loader);
        }

        function hideLoading() {
            const loader = document.getElementById('loader');
            if (loader) loader.remove();

            const multiplier = document.getElementById('multiplier');
            multiplier.style.display = 'block';
        }

        function generateMultiplier() {
            if (isGenerating) return;

            isGenerating = true;
            const button = document.getElementById('generateBtn');
            const originalText = button.textContent;

            showLoading();

            // 2 секунды "загрузка"
            setTimeout(() => {
                const multiplierElement = document.getElementById('multiplier');
                const randomValue = (Math.random() * 2 + 1).toFixed(2);
                multiplierElement.textContent = randomValue + "X";

                hideLoading();

                // 12 секунд блокировка кнопки
                let secondsLeft = 12;
                button.disabled = true;
                button.textContent = `WAIT ${secondsLeft}s`;

                countdownInterval = setInterval(() => {
                    secondsLeft--;
                    if (secondsLeft > 0) {
                        button.textContent = `WAIT ${secondsLeft}s`;
                    } else {
                        clearInterval(countdownInterval);
                        button.disabled = false;
                        button.textContent = originalText;
                        isGenerating = false;
                    }
                }, 1000);

            }, 2000);
        }
    </script>

</body>
</html>

